<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .background{
            width:100%;
            overflow:hidden;
            position:relative;
            z-index: -1;
        }

        .scroller{
            display:flex;
            animation: scroll 10s linear infinite;
        }

        .scroller img{
          width:210%;
          flex-shrink:0;
        }

        @keyframes scroll {
          0%{
          transform: translateX(0);
          }
          100%{
              transform: translateX(-210%);
          }
        }

        .boat {
          display: inline-flex;
          position: absolute;
          top:10%;
          left: 5%;
        }

        .boat img{
          display: inline-flex;
          width: 45%;
        }

        .fish {
          display: inline-flex;
          position: absolute;
          mix-blend-mode: multiply;
          top:10%;
          right:2%;
        }

        .fish p {
            right: 4%;
        }

        .crew {
          position: absolute;
          mix-blend-mode: multiply;
          top: 19%;
          right: 2.5%;
          display: inline-flex;
          gap: 5px;
        }
        
        .day {
            position: absolute;
            top:10%;
            left:2%;
            font-weight: bold;
            font-size: 18px;
        }

        .crewMood {
            position: absolute;
            mix-blend-mode: multiply;
            top: 13%;
            right: 2%;
            display: inline-flex;
        }

        .crewMood p {
            margin: 0;
            margin-top: 10px;
            display: inline-block;
            font-size: 16px;
        }

        .crewMood img {
            display: inline-block;
        }

    </style>
</head>
  <body>
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <ul class="nav nav-pills">
          <li class="nav-item">
            <a class="nav-link active" href="#">New Game</a>
          </li>
        </ul>
        <ul class="nav nav-pills">
          <li class="nav-item">
            <a href="/saveExitGame" class="nav-link" href="#">Load Save</a>
          </li>
        </ul>
        <ul class="nav nav-pills">
          <li class="nav-item">
            <a class="nav-link" href="/logout">Logout</a>
          </li>
        </ul>
      </ul>
    </nav> -->
    <a href="/home" class="btn text-info pb-0 px-2"><h2>Home</h2></a>

    <div class="background">
        <div class="scroller">
            <img src="{{ url_for('static', filename='bg.jpg') }}" alt="background">
            <img src="{{ url_for('static', filename='bg.jpg') }}" alt="background">
        </div>
    </div>

    <div class="day">
        <p>Day {{day}}</p>
    </div>

    <div class="boat" id="boat">
        <img src="{{ url_for('static', filename='placeholder.png') }}">
    </div>

    <div class="fish">
        <p>{{ num_fish }}</p>
        <img src="{{ url_for('static', filename='fish.jpg') }}" width="50" height="25">
    </div>

    <!-- <div class="crewMood">
      <p>{{ crewMood }}</p>
      <img src="{{ url_for('static', filename='smile.webp') }}" width="50" height="50">
    </div> -->

    <div class="crew">
      <p>{{ crew }}</p>
      <img src="{{ url_for('static', filename='crew.png') }}" width="35" height="35">
    </div>

    <div class="sailChoice">
      <a href="/sailChoice" class="btn btn-primary m-3" style="position:absolute; left:35%;">Sail</a>
    </div>

    <div class="fishChoice">
      <a href="/fishChoice" class="btn btn-primary m-3" style="position:absolute; left:50%;">Fish</a>
    </div>

    <div class="details">
      <p>current wind speed: {{speed}} mph</p>
      <p>course: {{course}} / current wind direction: {{direction}} mph</p>
      <p>miles traveled: {{miles}} / progress: {{progress}}%</p>
    </div>

    <a href="/new_day" class="btn btn-primary m-3">Next Day</a>
    <p>Notes: course is the direction you want to head in. keep in mind the wind direction relative to your course</p>

    <script>
      const boat = document.getElementById('boat');
      let position = 10; // initial position (in %)
      let direction = 1; // 1 for moving up, -1 for moving down

      function animateBoat() {
          position += direction * 0.05; // adjust speed by changing 0.5 per frame
          if (position >= 12 || position <= 8) { // set limits for motion
              direction *= -1; // reverse direction
          }
          boat.style.top = position + '%'; // update boat position
          requestAnimationFrame(animateBoat); // continue the animation
      }

      animateBoat();
  </script>
  </body>

</html>
